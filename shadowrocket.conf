[General]
bypass-system = true
# å»ºè®®å°† DNS æ”¹ä¸ºå…¬å…± DNS ä»¥é˜²æ­¢æ±¡æŸ“ï¼Œå¦‚æœ‰ç‰¹æ®Šéœ€æ±‚å¯æ”¹å› system
# dns-server = 202.175.3.8, 168.95.1.1, 8.8.8.8

# å¼€å¯ IPv6
ipv6 = true

# DNS è®¾ç½® (å¯¹åº”ä½ çš„ Clash default-nameserver å’Œ nameserver)
# è¿™é‡Œé…ç½®å›½å†…çš„é«˜é€Ÿ DNS (é˜¿é‡Œ+è…¾è®¯ DoH)ï¼Œç”¨äºç›´è¿æµé‡
dns-server = 168.95.1.1, 202.175.3.8, https://dns.twnic.tw/dns-query, https://dns.alidns.com/dns-query, https://doh.pub/dns-query, https://dns.google/dns-query

# å¯¹åº” Clash çš„ "fall-back" æ¦‚å¿µï¼Œé˜²æ­¢ DoH å¤±è´¥
fallback-dns-server = system

# ç¡®ä¿ä»£ç†æµé‡åœ¨è¿œç¨‹è§£æ DNS (è¿™æ˜¯ Shadowrocket å®ç°"æ‹¥æŠ±è‡ªç”±"çš„å…³é”®)
# è¿™ä¸ªé€‰é¡¹é€šå¸¸åœ¨ UI ç•Œé¢è®¾ç½®ï¼Œä½†åœ¨ conf ä¸­é»˜è®¤è¡Œä¸ºé€šå¸¸å¦‚æ­¤ï¼Œæ— éœ€é¢å¤–å¤æ‚ä»£ç ã€‚

[Proxy Group]
# --- æ‰‹åŠ¨é€‰æ‹©ç­–ç•¥ç»„ ---
# ç§»é™¤äº† select=0ï¼Œä¿ç•™æµ‹é€Ÿå‚æ•°ä»¥ä¾¿åœ¨åˆ—è¡¨ä¸­æ˜¾ç¤ºå»¶è¿Ÿ
æ‹¥æŠ±è‡ªç”± = select, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, interval=300, timeout=5, url=http://www.gstatic.com/generate_204

# --- è‡ªåŠ¨æµ‹é€Ÿç­–ç•¥ç»„ (æ ¸å¿ƒä¿®å¤) ---
# 1. ä¿®å¤æ­£åˆ™ä¸º ^.*$ (åŒ¹é…æ‰€æœ‰)
# 2. interval æ”¹ä¸º 300s (5åˆ†é’Ÿ)ï¼Œé˜²æ­¢é«˜é¢‘è¯·æ±‚å¯¼è‡´æ–­æµæˆ–å°å·
# 3. tolerance æ”¹ä¸º 50msï¼Œé˜²æ­¢ç½‘ç»œå¾®å°æŠ–åŠ¨å¯¼è‡´èŠ‚ç‚¹é¢‘ç¹ä¹±è·³
è‡ªåŠ¨é€‰æ‹© = url-test, policy-regex-filter=^.*$, url=http://www.gstatic.com/generate_204, interval=300, tolerance=50, timeout=5

# --- åœºæ™¯ç­–ç•¥ç»„ ---
Netflix = select, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‹¥æŠ±è‡ªç”±, è‡ªåŠ¨é€‰æ‹©
TikTok = select, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‹¥æŠ±è‡ªç”±, è‡ªåŠ¨é€‰æ‹©
Onedrive = select, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‹¥æŠ±è‡ªç”±, è‡ªåŠ¨é€‰æ‹©
äººå·¥æ™ºèƒ½ = select, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‹¥æŠ±è‡ªç”±, è‡ªåŠ¨é€‰æ‹©

# --- åœ°åŒºç­›é€‰ç­–ç•¥ç»„ (æ­£åˆ™ä¼˜åŒ–) ---
# ä½¿ç”¨å…³é”®è¯+å›½æ——çš„é€šç”¨åŒ¹é…æ–¹å¼ï¼Œå…¼å®¹æ€§æ›´å¼º
é¦™æ¸¯èŠ‚ç‚¹ = url-test, policy-regex-filter=(é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°), url=http://www.gstatic.com/generate_204, interval=300, tolerance=50, timeout=5
å°æ¹¾èŠ‚ç‚¹ = url-test, policy-regex-filter=(å°æ¹¾|TW|Taiwan|ğŸ‡¹ğŸ‡¼), url=http://www.gstatic.com/generate_204, interval=300, tolerance=50, timeout=5
ç‹®åŸèŠ‚ç‚¹ = url-test, policy-regex-filter=(æ–°åŠ å¡|ç‹®åŸ|SG|Singapore|ğŸ‡¸ğŸ‡¬), url=http://www.gstatic.com/generate_204, interval=300, tolerance=50, timeout=5
æ—¥æœ¬èŠ‚ç‚¹ = url-test, policy-regex-filter=(æ—¥æœ¬|JP|Japan|ğŸ‡¯ğŸ‡µ), url=http://www.gstatic.com/generate_204, interval=300, tolerance=50, timeout=5
ç¾å›½èŠ‚ç‚¹ = url-test, policy-regex-filter=(ç¾å›½|US|United States|Fremont|ğŸ‡ºğŸ‡¸), url=http://www.gstatic.com/generate_204, interval=300, tolerance=50, timeout=5

# æ’é™¤ä¸Šè¿°åœ°åŒºçš„èŠ‚ç‚¹ï¼Œå½’ç±»ä¸ºå…¶ä»–
å…¶ä»–èŠ‚ç‚¹ = url-test, policy-regex-filter=^(?!.*(é¦™æ¸¯|HK|ğŸ‡­ğŸ‡°|å°æ¹¾|TW|ğŸ‡¹ğŸ‡¼|æ–°åŠ å¡|SG|ğŸ‡¸ğŸ‡¬|æ—¥æœ¬|JP|ğŸ‡¯ğŸ‡µ|ç¾å›½|US|ğŸ‡ºğŸ‡¸)).*$, url=http://www.gstatic.com/generate_204, interval=300, tolerance=50, timeout=5

# --- åŸºç¡€ç­–ç•¥ç»„ ---
å…¨çƒç›´è¿ = select, DIRECT, æ‹¥æŠ±è‡ªç”±
å¹¿å‘Šæ‹¦æˆª = select, REJECT, DIRECT
æ¼ç½‘ä¹‹é±¼ = select, æ‹¥æŠ±è‡ªç”±, DIRECT

[Rule]
# è§„åˆ™é›†ä¿æŒä¸å˜ï¼Œè¯­æ³•æ­£ç¡®
RULE-SET,https://raw.githubusercontent.com/rrrryan-ted/clashrule/refs/heads/main/mydirect.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/rrrryan-ted/clashrule/refs/heads/main/LocalAreaNetwork.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/zsokami/ACL4SSR/main/ChinaOnly.list,DIRECT

RULE-SET,https://raw.githubusercontent.com/zsokami/ACL4SSR/main/UnBan1.list,å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list,å…¨çƒç›´è¿

RULE-SET,https://raw.githubusercontent.com/zsokami/ACL4SSR/main/BanProgramAD1.list,å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list,å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list,å¹¿å‘Šæ‹¦æˆª

RULE-SET,https://raw.githubusercontent.com/zsokami/ACL4SSR/main/GoogleCN.list,å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list,å…¨çƒç›´è¿

RULE-SET,https://raw.githubusercontent.com/rrrryan-ted/clashrule/refs/heads/main/mynetflix.list,Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Netflix/Netflix.list,Netflix

RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/TikTok/TikTok.list,TikTok
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/OneDrive/OneDrive.list,Onedrive

RULE-SET,https://raw.githubusercontent.com/rrrryan-ted/clashrule/refs/heads/main/ai_2025.list,äººå·¥æ™ºèƒ½

RULE-SET,https://raw.githubusercontent.com/rrrryan-ted/clashrule/refs/heads/main/mywebsite.list,æ‹¥æŠ±è‡ªç”±
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list,æ‹¥æŠ±è‡ªç”±

RULE-SET,https://raw.githubusercontent.com/rrrryan-ted/clashrule/refs/heads/main/download.list,å…¨çƒç›´è¿

GEOIP,CN,å…¨çƒç›´è¿,no-resolve
FINAL,æ¼ç½‘ä¹‹é±¼
